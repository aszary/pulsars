{% extends "database/atnf.xhtml" %}

{% load calculations %}

{% block calculations %}

    <h3>Calculations:</h3>

    {% for ca in cas %}

    <table class='gridtable' width="100%" >
        <tr align="center">
            <th>b</th>
            <th>B_14 [10^14 G]</th>
            <th>B_14dp</th>
        <tr align="center">
            <td>{{ca.b|stringformat:".2f"}}</td>
            <td>{{ ca.b_14|stringformat:".2f" }} {+{{ ca.b_14_plus|stringformat:".2f" }} } {+{{ ca.b_14_minus|stringformat:".2f" }}}</td>
            <td>{{ca.b_14dp|stringformat:".2f"}}</td>
        </tr>
    </table>

    <table class='gridtable' width="100%" >
        <tr align="center">
            <th>A [cm^2]</th>
            <th>A_dp [cm^2]</th>
            <th>R_dp [m]</th>
        </tr>
        <tr align="center">
            <td>{{ca.a|stringformat:".1e"}}</td>
            <td>{{ca.a_dp|stringformat:".1e"}}</td>
            <td>{{ca.r_dp|div:1e2|stringformat:".1f"}}</td>
        </tr>
    </table>

    <table class='gridtable' width="100%" >
        <tr align="center">
            <th>dotP_15</th>
            <th>bsurf2</th>
            <th>L_SD</th>
        </tr>
        <tr align="center">
            <td>{{ca.dotp_15|stringformat:".1e"}}</td>
            <td>{{ca.bsurf2|stringformat:".1e"}}</td>
            <td>{{ca.l_sd|stringformat:".1e"}}</td>
        </tr>
    </table>
    {% endfor %}

    <br />

    {% for ge in ges %}
    <h3>Geometry:</h3>
    <table class='gridtable' width="100%" >
        <tr align="center">
            <th>Cite</th>
            <th>link</th>
            <th>alpha</th>
            <th>beta</th>
            <th>rho</th>
            <th>info</th>
        </tr>
        <tr align="center">
            <td>{{ge.cite}}</td>
            <td><a href="{{ge.link}}">ads link</a></td>
            <td>{{ge.alpha|stringformat:".2f"}}</td>
            <td>{{ge.beta|stringformat:".2f"}}</td>
            <td>{{ge.rho|stringformat:".2f"}}</td>
            <td>{{ge.info}}</td>
        </tr>
    </table>
    {% endfor %}

    {% for su in sus %}
    <h3>Subpulse:</h3>
    <table class='gridtable' width="100%" >
        <tr align="center">
            <th>Cite</th>
            <th>link</th>
            <th>P2 [deg]</th>
            <th>P3 [P0]</th>
            <th>P4 [P0]</th>
            <th>info</th>
        </tr>
        <tr align="center">
            <td>{{su.cite}}</td>
            <td><a href="{{su.link}}">ads link</a></td>
            <td>{{su.p2|stringformat:".1f"}} {+{{su.p2_plus|stringformat:".1f"}}}{-{{su.p2_minus|stringformat:".1f"}}}</td>
            <td>{{su.p3|stringformat:".1f"}} {+{{su.p3_plus|stringformat:".1f"}}}{-{{su.p3_minus|stringformat:".1f"}}}</td>
            <td>{{su.p4|stringformat:".1f"}}</td>
            <td>{{su.info}}</td>
        </tr>
    </table>
    {% endfor %}

    {% for ad in ads %}
    <h3>More:</h3>
    <table class='gridtable' width="100%" >
        <tr align="center">
            <th>link</th>
            <th>Age</th>
            <th>Dist DM CL [kpc]</th>
            <th>Dist Pi [kpc]</th>
        </tr>
        <tr align="center">
            <td><a href="{{ad.articles}}">ads link</a></td>
            <td>{{ad.best_age|stringformat:".1e"}}</td>
            <td>{{ad.dist_dm_cl|stringformat:".3f"}} {+{{ad.dist_dm_cl_plus|stringformat:".3f"}}}{-{{ad.dist_dm_cl_minus|stringformat:".3f"}}}</td>
            <td>{{ad.dist_pi|stringformat:".3f"}} {+{{ad.dist_pi_plus|stringformat:".3f"}}}{-{{ad.dist_pi_minus|stringformat:".3f"}}}</td>
        </tr>
    </table>
    {% endfor  %}

{% endblock %}
